<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>A lightning fast Wordfeud Solver in Rust | Adventures in Rust</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="A lightning fast Wordfeud Solver in Rust" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A few years ago I became intrigued by the Rust programming language. Like many other people I enjoy playing the popular Wordfeud game. I was looking for a programming project to exercise my Rust skills, and creating a wordfeud solver in Rust seemed like a nice fit." />
<meta property="og:description" content="A few years ago I became intrigued by the Rust programming language. Like many other people I enjoy playing the popular Wordfeud game. I was looking for a programming project to exercise my Rust skills, and creating a wordfeud solver in Rust seemed like a nice fit." />
<link rel="canonical" href="/wordfeud/rust/2020/12/29/a-lightning-fast-wordfeud-solver-in-rust.html" />
<meta property="og:url" content="/wordfeud/rust/2020/12/29/a-lightning-fast-wordfeud-solver-in-rust.html" />
<meta property="og:site_name" content="Adventures in Rust" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-29T14:38:21+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="A lightning fast Wordfeud Solver in Rust" />
<script type="application/ld+json">
{"headline":"A lightning fast Wordfeud Solver in Rust","dateModified":"2020-12-29T14:38:21+01:00","datePublished":"2020-12-29T14:38:21+01:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/wordfeud/rust/2020/12/29/a-lightning-fast-wordfeud-solver-in-rust.html"},"url":"/wordfeud/rust/2020/12/29/a-lightning-fast-wordfeud-solver-in-rust.html","description":"A few years ago I became intrigued by the Rust programming language. Like many other people I enjoy playing the popular Wordfeud game. I was looking for a programming project to exercise my Rust skills, and creating a wordfeud solver in Rust seemed like a nice fit.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Adventures in Rust" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Adventures in Rust</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">A lightning fast Wordfeud Solver in Rust</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-12-29T14:38:21+01:00" itemprop="datePublished">Dec 29, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>A few years ago I became intrigued by the Rust programming language. 
Like many other people I enjoy playing the popular <a href="https://wordfeud.com/">Wordfeud</a> game. I was looking for a programming project to exercise my Rust skills, and creating a wordfeud solver in Rust seemed like a nice fit.</p>

<h1 id="the-wordfeud-game">The Wordfeud game</h1>

<p>The Wordfeud game is derived from Scrabble. The objective of the game is to put words on the 15x15 game board with the letter tiles you have. You score points based on the value of each tile, and the type of the square where the tile is placed.
In addition to the regular tiles you can also get a blank tile that can be assigned any letter when put on the board, but has a value of 0 points.</p>

<p><img src="https://github.com/jensanjo/wordfeud-ocr/raw/master/lib/tests/screenshot_english.png" alt="screenshot" width="240" /></p>

<p>Wordfeud can be played in different languages (English, German, French, Spanish, Dutch, Swedish, Norwegian, Danish, Portuguese and Finnish). Each language has a different tile distribution. The details of the game are explained <a href="https://wordfeud.com/wf/help/">here</a>.</p>

<h1 id="a-wordfeud-solver">A Wordfeud Solver</h1>

<p>The initial goal for my Wordfeud Solver was to create a Rust library that can be used to build a Wordfeud player.</p>

<ul>
  <li>Read a wordlist for the selected language</li>
  <li>Given the state of the game board and a set of tiles, calculate all possible words that can be played</li>
  <li>Calculate the scores for all words and return the top scores</li>
</ul>

<h1 id="wordfeud-solver-algorithm">Wordfeud Solver algorithm</h1>

<p>The solver presented here is based on the excellent <a href="https://github.com/mrcz/Wordfeud-Player">wordfeudplayer</a> Python package.</p>

<h2 id="the-wordlist">The wordlist</h2>

<p>The wordlist is stored in a <a href="https://en.wikipedia.org/wiki/Trie">trie</a> data structure. A trie is a search tree where each node has an associated label. 
All the descendants of a node have a common prefix. The root node is the empty string.</p>

<p>This example stores the words <code class="language-plaintext highlighter-rouge">ab</code>, <code class="language-plaintext highlighter-rouge">aba</code>, <code class="language-plaintext highlighter-rouge">ax</code>, <code class="language-plaintext highlighter-rouge">axe</code>, <code class="language-plaintext highlighter-rouge">ba</code>, <code class="language-plaintext highlighter-rouge">bar</code>, <code class="language-plaintext highlighter-rouge">bad</code>:</p>

<p><img src="/assets/img/wordlist.png" alt="example wordlist" /></p>

<p>The bold nodes are <code class="language-plaintext highlighter-rouge">terminal</code>, which means they represent a valid word. Non-terminal nodes represent a valid prefix.</p>

<h2 id="the-board">The board</h2>

<p>The wordfeud board can be thought of as a square grid of 15x15 cells, where each cell can be empty or contain a tile.
It can be represented by 15 lines of 15 characters. Lower case letters are normal tiles, while upper case letters represent a 
blank tile used as a wildcard. For example, the screenshot above shows like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>...............
...............
............z..
............if.
.........dental
..........v.ex.
.......h..e....
......hedonIc..
....r..d..l....
....o..o..y....
....brent......
....o..i..v....
.gaits.S..e....
....i..munged..
....c.....a....
</code></pre></div></div>

<h2 id="find-all-possible-words">Find all possible words</h2>
<p>The steps to calculate all words that can be played with our letters will be in pseudo code:</p>

<figure class="highlight"><pre><code class="language-rust" data-lang="rust"><span class="k">for</span> <span class="n">direction</span> <span class="n">in</span> <span class="n">horizontal</span><span class="p">,</span> <span class="n">vertical</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">row</span> <span class="n">in</span> <span class="n">rows</span><span class="p">[</span><span class="n">direction</span><span class="p">]</span> <span class="p">{</span>        
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<pre><code class="language-Rust">for direction in horizontal, vertical {
    for row in rows[direction] {        
    }
}
</code></pre>

  </div><a class="u-url" href="/wordfeud/rust/2020/12/29/a-lightning-fast-wordfeud-solver-in-rust.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Adventures in Rust</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Adventures in Rust</li><li><a class="u-email" href="mailto:joep.w.jansen@gmail.com">joep.w.jansen@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jensanjo"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jensanjo</span></a></li><li><a href="https://www.twitter.com/joepwm"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">joepwm</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A blog on discovering Rust programming</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
